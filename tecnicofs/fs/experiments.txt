while (to_read != 0 && current_block <= MAX_DIRECT_BLOCKS) {

            current_block = (file->of_offset / BLOCK_SIZE) + 1;     // os blocos de escrita de dados comeÃ§am no numero 1
            block_offset = file->of_offset % BLOCK_SIZE;

            void *block = data_block_get((int) current_block);

            if (block == NULL) {
                return -1;
            }


            if (to_read + block_offset <= BLOCK_SIZE) {

                memcpy(buffer + total_read, block + block_offset, to_read);
           
                file->of_offset += to_read;
                total_read += to_read;
                to_read = 0;                

            } else if ( to_read + block_offset <= BLOCK_SIZE) {

                read_bytes_per_cycle = BLOCK_SIZE - block_offset;

                memcpy(buffer + total_read, block + block_offset, read_bytes_per_cycle);

                to_read -= read_bytes_per_cycle;
                file->of_offset += read_bytes_per_cycle;
                total_read += read_bytes_per_cycle;

            }
        }